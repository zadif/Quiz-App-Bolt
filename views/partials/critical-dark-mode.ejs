<!-- Critical Dark Mode Styles - Prevents Glimmer -->
<style>
  /* Immediately applied styles to prevent flash */
  html.dark-mode {
    background-color: #121212;
  }
  html.dark-mode body {
    background-color: #121212 !important;
    color: #e0e0e0 !important;
    transition: none !important;
  }
  html.dark-mode .hero-section {
    background: linear-gradient(135deg, #121212, #333333) !important;
  }
  html.dark-mode .card {
    background-color: #1e1e1e !important;
    color: #e0e0e0 !important;
  }
  html.dark-mode footer {
    background-color: #1e1e1e !important;
  }
  /* Page pre-loader style */
  #dark-mode-init {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: #121212;
    z-index: 9999;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.2s;
  }
  html.dark-mode-initializing #dark-mode-init {
    opacity: 1;
    visibility: visible;
  }
</style>

<!-- Dark Mode Early Initialization - Prevents Flash -->
<script>
  // Apply dark mode immediately if enabled
  (function () {
    if (localStorage.getItem("darkMode") === "enabled") {
      // Add class to html for styling
      document.documentElement.classList.add("dark-mode");
      document.documentElement.classList.add("dark-mode-initializing");
      document.body.classList.add("dark-mode");
    }
  })();
</script>
